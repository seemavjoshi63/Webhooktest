{"id":90,"name":"Trigger","displayName":"Salesforce","documentation":"","moduleName":"trigger.salesforce","serviceTypes":[{"name":"RecordService","description":"Triggers when a new event related to Salesforce records is received.\nAvailable actions: onCreate, onUpdate, onDelete, and onRestore\n","functions":[{"qualifiers":["remote"],"documentation":"Triggers on a new record create event.\n\n","name":"onCreate","parameters":[{"name":"payload","typeName":"record","optional":false,"typeInfo":{"name":"EventData","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"displayAnnotation":{},"documentation":"The information about the triggered event\n","hasRestType":true,"defaultable":false,"fields":[{"paramType":{"typeName":"json","optional":false,"defaultable":false},"name":"changedData","typeName":"map","optional":false,"defaultable":false},{"fields":[{"name":"commitTimestamp","typeName":"int","optional":true,"defaultable":false},{"name":"transactionKey","typeName":"string","optional":true,"defaultable":false},{"name":"changeOrigin","typeName":"string","optional":true,"defaultable":false},{"name":"changeType","typeName":"string","optional":true,"defaultable":false},{"name":"entityName","typeName":"string","optional":true,"defaultable":false},{"name":"sequenceNumber","typeName":"int","optional":true,"defaultable":false},{"name":"commitUser","typeName":"string","optional":true,"defaultable":false},{"name":"commitNumber","typeName":"int","optional":true,"defaultable":false},{"name":"recordId","typeName":"string","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"metadata","typeName":"record","optional":true,"typeInfo":{"name":"ChangeEventMetadata","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"documentation":"`()` on success else an `error`\n","defaultable":false},"displayAnnotation":{}},{"qualifiers":["remote"],"documentation":"Triggers on a record update event.\n\n","name":"onUpdate","parameters":[{"name":"payload","typeName":"record","optional":false,"typeInfo":{"name":"EventData","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"displayAnnotation":{},"documentation":"The information about the triggered event\n","hasRestType":true,"defaultable":false,"fields":[{"paramType":{"typeName":"json","optional":false,"defaultable":false},"name":"changedData","typeName":"map","optional":false,"defaultable":false},{"fields":[{"name":"commitTimestamp","typeName":"int","optional":true,"defaultable":false},{"name":"transactionKey","typeName":"string","optional":true,"defaultable":false},{"name":"changeOrigin","typeName":"string","optional":true,"defaultable":false},{"name":"changeType","typeName":"string","optional":true,"defaultable":false},{"name":"entityName","typeName":"string","optional":true,"defaultable":false},{"name":"sequenceNumber","typeName":"int","optional":true,"defaultable":false},{"name":"commitUser","typeName":"string","optional":true,"defaultable":false},{"name":"commitNumber","typeName":"int","optional":true,"defaultable":false},{"name":"recordId","typeName":"string","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"metadata","typeName":"record","optional":true,"typeInfo":{"name":"ChangeEventMetadata","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"documentation":"`()` on success else an `error` \n","defaultable":false},"displayAnnotation":{}},{"qualifiers":["remote"],"documentation":"Triggers on a record delete event.\n\n","name":"onDelete","parameters":[{"name":"payload","typeName":"record","optional":false,"typeInfo":{"name":"EventData","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"displayAnnotation":{},"documentation":"The information about the triggered event\n","hasRestType":true,"defaultable":false,"fields":[{"paramType":{"typeName":"json","optional":false,"defaultable":false},"name":"changedData","typeName":"map","optional":false,"defaultable":false},{"fields":[{"name":"commitTimestamp","typeName":"int","optional":true,"defaultable":false},{"name":"transactionKey","typeName":"string","optional":true,"defaultable":false},{"name":"changeOrigin","typeName":"string","optional":true,"defaultable":false},{"name":"changeType","typeName":"string","optional":true,"defaultable":false},{"name":"entityName","typeName":"string","optional":true,"defaultable":false},{"name":"sequenceNumber","typeName":"int","optional":true,"defaultable":false},{"name":"commitUser","typeName":"string","optional":true,"defaultable":false},{"name":"commitNumber","typeName":"int","optional":true,"defaultable":false},{"name":"recordId","typeName":"string","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"metadata","typeName":"record","optional":true,"typeInfo":{"name":"ChangeEventMetadata","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"documentation":"`()` on success else an `error`\n","defaultable":false},"displayAnnotation":{}},{"qualifiers":["remote"],"documentation":"Triggers on a record restore event.\n\n","name":"onRestore","parameters":[{"name":"payload","typeName":"record","optional":false,"typeInfo":{"name":"EventData","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"displayAnnotation":{},"documentation":"The information about the triggered event\n","hasRestType":true,"defaultable":false,"fields":[{"paramType":{"typeName":"json","optional":false,"defaultable":false},"name":"changedData","typeName":"map","optional":false,"defaultable":false},{"fields":[{"name":"commitTimestamp","typeName":"int","optional":true,"defaultable":false},{"name":"transactionKey","typeName":"string","optional":true,"defaultable":false},{"name":"changeOrigin","typeName":"string","optional":true,"defaultable":false},{"name":"changeType","typeName":"string","optional":true,"defaultable":false},{"name":"entityName","typeName":"string","optional":true,"defaultable":false},{"name":"sequenceNumber","typeName":"int","optional":true,"defaultable":false},{"name":"commitUser","typeName":"string","optional":true,"defaultable":false},{"name":"commitNumber","typeName":"int","optional":true,"defaultable":false},{"name":"recordId","typeName":"string","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"metadata","typeName":"record","optional":true,"typeInfo":{"name":"ChangeEventMetadata","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"documentation":"`()` on success else an `error`\n","defaultable":false},"displayAnnotation":{}}],"displayAnnotation":{}}],"listenerParams":[{"name":"listenerConfig","typeName":"record","optional":false,"typeInfo":{"name":"ListenerConfig","orgName":"ballerinax","moduleName":"trigger.salesforce","version":"0.10.0"},"displayAnnotation":{},"documentation":"Salesforce Listener configuration\n","hasRestType":false,"defaultable":false,"fields":[{"name":"username","typeName":"string","optional":false,"defaultable":false},{"name":"password","typeName":"string","optional":false,"defaultable":false},{"name":"channelName","typeName":"string","optional":false,"defaultable":false},{"name":"replayFrom","typeName":"int","optional":false,"defaultable":true},{"name":"environment","typeName":"string","optional":false,"defaultable":true}]}],"listenerProtocol":"generic","displayAnnotation":{"label":"Salesforce","iconPath":"docs/icon.png"},"package":{"organization":"ballerinax","name":"trigger.salesforce","version":"0.10.0","platform":"java11","languageSpecificationVersion":"2022R4","isDeprecated":false,"deprecateMessage":"","URL":"/ballerinax/trigger.salesforce/0.10.0","balaVersion":"2.0.0","balaURL":"https://fileserver.central.ballerina.io/2.0/ballerinax/trigger.salesforce/0.10.0/ballerinax-trigger.salesforce-java11-0.10.0.bala?md5=5Wh3v86ia7w2RwDKd3ZguA&expires=1697113989","digest":"sha-256=ba7ce5600c2af1c8839f034766c48e4ba611eb69a4d9e228db20c3d9a4a477ee","summary":"Listen to [Salesforce Streaming API](https://developer.salesforce.com/docs/atlas.en-us.api_streaming.meta/api_streaming/intro_stream.htm) from Ballerina","readme":"Listen to [Salesforce Streaming API](https://developer.salesforce.com/docs/atlas.en-us.api_streaming.meta/api_streaming/intro_stream.htm) from Ballerina\n\n## Package overview\nThe `ballerinax/trigger.salesforce` is a [Ballerina](https://ballerina.io/) trigger for Salesforce.\nThis package provides the capability to access Salesforce Streaming API.\n\n### Compatibility\n|                               | Version                      |\n|-------------------------------|------------------------------|\n| Ballerina Language            | Ballerina Swan Lake 2201.4.1 |\n| Salesforce Streaming API      | 43.0                         | \n\n## Report issues\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Extended Library repository](https://github.com/ballerina-platform/ballerina-extended-library)\n\n## Useful links\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Discord server](https://discord.gg/ballerinalang).\n- Post all technical questions on Stack Overflow with the [#ballerina](https://stackoverflow.com/questions/tagged/ballerina) tag","template":false,"licenses":["Apache-2.0"],"authors":["Ballerina"],"sourceCodeLocation":"https://github.com/ballerina-platform/asyncapi-triggers","keywords":["Sales & CRM/Customer Relationship Management","Cost/Freemium"],"ballerinaVersion":"2201.4.1","icon":"https://bcentral-packageicons.azureedge.net/images/ballerinax_trigger.salesforce_0.10.0.png","ownerUUID":"9712bf21-e852-48ba-83f0-2c7c5262cb6d","createdDate":1691073172000,"pullCount":4,"visibility":"public","modules":[{"packageURL":"/ballerinax/trigger.salesforce/0.10.0","apiDocURL":"https://lib.ballerina.io/ballerinax/trigger.salesforce/0.10.0","name":"trigger.salesforce","summary":"The `ballerinax/trigger.salesforce` module provides a Listener to grasp events triggered from a Salesforce org. This functionality is provided by [Salesforce Streaming API](https://developer.salesforce.com/docs/atlas.en-us.api_streaming.meta/api_streaming/intro_stream.htm).","readme":"## Overview\n\nThe `ballerinax/trigger.salesforce` module provides a Listener to grasp events triggered from a Salesforce org. This functionality is provided by [Salesforce Streaming API](https://developer.salesforce.com/docs/atlas.en-us.api_streaming.meta/api_streaming/intro_stream.htm).\n\n## Prerequisites\nBefore using this connector in your Ballerina application, complete the following:\n\n* Create a Salesforce account.\n* Obtain the security token for the your Salesforce org by visiting <br/> `Profile -> Settings -> My Personal Information -> Reset My Security Token`\n* Add the **API Enabled** permission & **Streaming API** permissions for your Salesforce org. \n* Prerequisites for different kind of events\n    - Subscribe to **Change Data Capture Events**\n        1. Subscribe to channels to receive notifications for record changes by visiting <br/> `Setup -> Integrations -> Change Data Capture`\n\n## Quickstart\nTo use the Salesforce listener in your Ballerina application, update the .bal file as follows:\n\n### Step 1: Import listener\nImport the `ballerinax/trigger.salesforce as sfdc` module as shown below.\n```ballerina\nimport ballerinax/trigger.salesforce as sfdc;\n```\n\n### Step 2: Create a new listener instance\nCreate a `sfdc:Listener` using your `Salesforce User Name`, `Salesforce Password` `Salesforce Security Token`, `Subscribe Channel Name` and initialize the listener with it. \n\nNotes: \n- For using the listener in sandbox environments we need to specify the parameter `environment: \"Sandbox\"`\n\n```ballerina\nsfdc:ListenerConfig configuration = {\n    username: \"USER_NAME\",\n    password: \"PASSWORD\" + \"SECURITY_TOKEN\",\n    channelName: \"CHANNEL_NAME\"\n};\nlistener Listener sfdc:Listener = new (configuration);\n```\n\n### Step 3: Implement a listener remote function\n1. Now you can implement a listener remote function supported by this connector.\n\n* Write a remote function to receive a particular event type. Implement your logic within that function as shown in the below sample.\n\n* Following is a simple sample for using Salesforce listener\n```ballerina\nimport ballerina/log;\nimport ballerinax/trigger.salesforce as sfdc;\n\nservice sfdc:RecordService on sfdcListener {\n    remote function onUpdate(sfdc:EventData event) returns error? {\n        log:printInfo(event.toString());\n    }\n\n    remote function onCreate(sfdc:EventData event) returns error? {\n\n    }\n        \n    remote function onDelete(sfdc:EventData event) returns error? {\n\n    }\n\n    remote function onRestore(sfdc:EventData event) returns error? {\n\n    }\n}\n```\n2. Use `bal run` command to compile and run the Ballerina program.\n\n* Receiving events\n    * After successful verification of Request URL your ballerina service will receive events."}],"balToolId":"","graalvmCompatible":"Unknown"},"triggerType":"salesforce","httpBased":false}